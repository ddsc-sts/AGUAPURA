{% extends "base.html" %}
{% block content %}

<div class="carrinho-container">
    <h2 class="titulo-carrinho">Seu Carrinho</h2>

    {% if itens|length == 0 %}
        <p>Seu carrinho estÃ¡ vazio ðŸ˜¢</p>
    {% else %}

    <div class="lista-carrinho">

        {% for item in itens %}
        <div class="item-carrinho">
            <img src="{{ item.imagem_principal }}" alt="{{ item.nome }}">
        
            <div class="info-item">
                <h3>{{ item.nome }}</h3>
                <p>R$ {{ "%.2f"|format(item.preco) }}</p>
        
                {% if item.cor and item.cor != '' %}
                    <p style="margin:6px 0;"><strong>Cor:</strong> {{ item.cor }}</p>
                {% endif %}
        
                <div class="quantidade">
                    <a href="/carrinho/sub/{{ item.carrinho_id }}"><button>-</button></a>
                    <span>{{ item.quantidade }}</span>
                    <a href="/carrinho/add/{{ item.carrinho_id }}"><button>+</button></a>
                </div>
            </div>
        
            <a href="/carrinho/remover/{{ item.carrinho_id }}" class="remove-item">âœ–</a>
        </div>
        
        {% endfor %}

    </div>

    <div class="resumo-carrinho">
        <h3>Resumo do Pedido</h3>
        <p>Subtotal: <span>R$ {{ "%.2f"|format(subtotal) }}</span></p>
        <p>Frete: <span>R$ {{ "%.2f"|format(frete) }}</span></p>

        <hr>

        <p class="total"><strong>Total:</strong> 
            <span>R$ {{ "%.2f"|format(total) }}</span>
        </p>

        <a class="finalizar" href="{{ url_for('checkout') }}">Finalizar Compra</a>


    </div>

    {% endif %}
</div>


{% endblock %}
